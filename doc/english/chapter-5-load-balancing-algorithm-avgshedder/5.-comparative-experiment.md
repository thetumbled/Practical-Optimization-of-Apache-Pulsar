# 5. Comparative Experiment



## 5.1 **Comparison with UniformLoadShedder + LeastLongTermMessageRate**

### **5.1.1 Heterogeneous Environment**

The same heterogeneous environment and load pressure as the [previous test](../chapter-4-load-balancing-algorithm-experimental-verification/1.-uniformloadshedder-+-leastlongtermmessagerate.md#id-1.2-heterogeneous-environment) of `UniformLoadShedder + LeastLongTermMessageRate` were used, where machine `XXX.34` is heterogeneous and significantly more powerful than the other three machines.

<figure><img src="../.gitbook/assets/image (47).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

It can be observed that the traffic throughput and message rate of machine `XXX.34` are significantly higher than those of the other machines.



<figure><img src="../.gitbook/assets/image (49).png" alt=""><figcaption><p>maximum-to-minimum ratio of throughput</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (50).png" alt=""><figcaption><p>maximum-to-minimum ratio of message rates</p></figcaption></figure>

The ratio of the maximum to the minimum of message rates and traffic throughput even reached 11. However, this is quite reasonable. When examining the resource utilization, it is found that the load on machine `XXX.34` remains the lowest!

<figure><img src="../.gitbook/assets/image (51).png" alt=""><figcaption></figcaption></figure>

It can be seen that the resource utilization rate of XXX.34 is still less than half of that of the other machines. You might hope that the load of other machines, such as `XXX.83`, could be further distributed to `XXX.34` to achieve a more balanced resource utilization rate. However, the current `AvgShedder` algorithm cannot achieve this level of optimization.



### **5.1.2 Load Fluctuation**

I deployed periodic fluctuating consumption tasks:

<figure><img src="../.gitbook/assets/image (52).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/image (53).png" alt=""><figcaption></figcaption></figure>

It can be seen that no bundle unload was triggered at all! The stability is good.



### 5.2 **Comparison with ThresholdShedder + LeastResourceUsageWithWeight**

Next, we deployed the [same test environment](../chapter-4-load-balancing-algorithm-experimental-verification/2.-thresholdshedder-+-leastresourceusagewithweight.md) as ThresholdShedder + LeastResourceUsageWithWeight, where the machines are homogeneous, to compare the effects.

Three pressure testing tasks were launched as follows:























